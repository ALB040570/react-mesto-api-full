{"version":3,"sources":["contexts/CurrentUserContext.js","components/Card.js","components/Header.js","images/logo.png","components/Footer.js","components/Main.js","images/editava.png","utils/api.js","components/ImagePopup.js","components/Form.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/Login.js","components/Register.js","components/InfoTooltip.js","components/ProtectedRoute.js","components/App.js","reportWebVitals.js","index.js"],"names":["CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","className","src","link","alt","name","onClick","onCardClick","type","onCardLike","length","onCardDelete","Header","buttonName","userEmail","to","toLink","Footer","Main","onSignOut","avatar","onEditAvatar","about","onEditProfile","onAddPlace","cards","map","item","api","this","_baseUrl","window","location","protocol","process","_usersMe","_cards","_likes","_avatar","_signIn","_signUp","email","password","fetch","method","headers","body","JSON","stringify","then","_checkResponse","token","_headers","Authorization","localStorage","getItem","data","cardId","isLike","res","ok","json","Promise","reject","status","ImagePopup","id","onClose","Form","onSubmit","noValidate","title","children","PopupWithForm","isOpen","EditProfilePopup","useState","setName","description","setDescription","useEffect","handleChange","e","target","value","preventDefault","onUpdateUser","placeholder","required","minLength","maxLength","onChange","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","setLink","onUpdateCards","Login","setData","onLogin","Register","onRegister","InfoTooltip","typeInfo","ProtectedRoute","Component","component","loggedIn","App","setLoggedIn","userData","setUserData","history","useHistory","isInfoTooltipOpen","setInfoTooltipOpen","setTypeInfo","setCurrenUser","isEditProfilePopupOpen","handleEditProfileClick","isAddPlacePopupOpen","handleAddPlaceClick","isEditAvatarPopupOpen","handleEditAvatarClick","selectedCard","handleCardClick","setCards","push","setToken","getCards","cardsFromSer","catch","err","console","log","getUsersInfo","userInfo","jwt","getContent","error","closeAllPopups","Provider","exact","path","removeItem","changeLikeCardStatus","newCard","newCards","c","deleteCard","filter","authorize","setItem","statusCode","register","Error","patchUsersInfo","patchAvatar","postCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.35d03f5d.chunk.js","sourcesContent":["import React from 'react';\nexport const CurrentUserContext = React.createContext();","import {CurrentUserContext} from '../contexts/CurrentUserContext';\nimport {useContext} from 'react';\n\nfunction Card(props) {\n    const currentUser = useContext(CurrentUserContext);\n    // Определяем, являемся ли мы владельцем текущей карточки\n   const isOwn =  (props.card.owner._id === currentUser._id);\n\n\n    // Создаём переменную, которую после зададим в `className` для кнопки удаления\n    const cardDeleteButtonClassName = (\n        `element__trash ${isOwn ? 'element__trash_visible' : 'element__trash_hidden'}`\n    );\n    // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\n    const isLiked = props.card.likes.some(i => i._id === currentUser._id);\n\n    // Создаём переменную, которую после зададим в `className` для кнопки лайка\n    const cardLikeButtonClassName = (\n        `element__like ${isLiked && 'element__like_active'}`\n    );\n    \n    return (\n        <li className=\"element\">\n            <div className=\"element__bord\">\n                <img src={props.card.link} alt={props.card.name} className=\"element__photo\" onClick = {()=>props.onCardClick(props.card)}/>\n            </div>\n            <h2 className=\"element__title\">{props.card.name}</h2>\n            <div className=\"element__like-group\">\n                <button type=\"button\" className={cardLikeButtonClassName} onClick={() => props.onCardLike(props.card)}/>\n                <p className=\"element__like-counter\">{props.card.likes.length}</p>\n            </div>\n            <button type=\"button\" className={cardDeleteButtonClassName} onClick={() => props.onCardDelete(props.card)}/>\n         </li>\n         )\n}\nexport default Card;","import { Link } from 'react-router-dom';\nimport logo from '../images/logo.png';\n\nfunction Header(props) {\n  return (\n    <header className=\"header\">\n      <img src={logo} alt=\"Логотип\" className=\"header__logo\"/>\n      <div className=\"header__conteiner\">\n        {props.buttonName===\"Выйти\"&&<p className=\"header__email\">{props.userEmail}</p>}\n        {props.buttonName===\"Выйти\"?<button className=\"header__button header__button_grey\" onClick = {props.onClick}>{props.buttonName}</button>:<Link to={props.toLink} className=\"header__button\">{props.buttonName}</Link>}\n      </div>\n\n    </header>\n  )\n}\nexport default Header;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAI8AAAAiCAMAAABRP3qRAAAASFBMVEUAAAD////////////////////////////////////////////////////////////////////////////////////////////neHiwAAAAF3RSTlMAIGCfvxBAgN/vAVCv3W8wz5Ahj85xUV8w+oIAAAM6SURBVFjDxZbr2tsgCIARhWg0xnaH3P+dzmgs2q87uOdbx4+qCPoGkQpvlNVkwZdT5HZ4u6wHMocvL+c8wdtEeBTA3cHuARQCsL5lxX7TuR8JaNH4Lirh2R2gziwGcPO40d0ib7xuarU3Cd5bZD0iYloaz5Ibgv3r+Zt5gDLsBm8Q4Qnaamg892T1DuvNBSw8HGzKPCoLfch30X7uebGjxnMm0XmtiL9i5uGN6b6BOrK45631qV3+Ac9qFuBNUTAQEdavzAus+kvmwUwYL57DD45FOc/jEZF+w3MGaA3ORgO7NU4DhZSMyjyUUtKNx4ye+Fc8JvuoP7K8qFVpSYEML56DB3v7KTzzIjy3XsfHf+cZMlr/f54j9qoPPF4na83S70ZVp30dotbnKQetNTWLGKxNAdUsT3BDRi9ZpXsetsclX+ijziqJaRFVaZaHwTLJo09X7rPZovBkPhFLcgMF6AUPpc5CT/JQ9ZGtsOPxpSBE9to+KoMqXa92bDrG0o1XDVp18UIfTYnrHA+YmtGSlh1P2UYouDFrMWdx7D7KVfW3E4jneLhuLwrh6U9OtUTTsgXr6OmZZz3JsTtvM8cDeSMrl507ilRnZJKu1v/ivu+5u8lj9PSa45GMzl+Wuqj0qVXVe25jbi3+nOdbX0HWQj/HQyWmLZs7Hj4nlibhnG2ffNgQ+SXPKucpdDM8dTGqraWOxx/PguVA3DVyAV/wmBLHJt/PGzbJUzO6DYUHX/OA0mP9GXmk22Ksp3hq3rqaqAqe4hOwl7YP+ZuRIvnxvMb4LJM8NaPJdWm0tPnbz91ZXpI9z+0Rx7Z0nOUpKFc2C0+pBAl+IefWYeSReimnx1M8beFHGRKeYTGOTMXLR+wWMM885LqCf5diNMPD8t/X83CXscrWW0iHbIeP+AQhX/VDC3Q6xXkeqNmphEfUFh9vDN10qVh6l7v4CPDGai8xOdXmvq4rp1NNf8ETr5e98EhQDmeSq5dbyo8JprRheOa67kHirCvNDrM8rejiyCNAY63xTnSGxofS/myx7TDL0wJuYeBpo9ReevTw0+6iYRC7Qo6jhROnzxPFiF6NOvZZR892rEaLHWbkB8k/WVSGiQ2bAAAAAElFTkSuQmCC\"","function Footer() {\n  return(\n    <footer className=\"footer\">\n      <p className=\"footer__text\">&copy; 2020 Mesto Russia</p>\n    </footer>\n  )\n}\nexport default Footer;\n","import editava from '../images/editava.png';\nimport {useContext} from 'react';\nimport Card from './Card.js';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\nimport Header from './Header';\nimport Footer from './Footer.js';\n\nfunction Main(props) {\n  const currentUser = useContext(CurrentUserContext);\n\n  return (\n    <div className=\"page\">\n      <Header buttonName=\"Выйти\" userEmail={props.userEmail} onClick={props.onSignOut}/>\n      <main className=\"content\">\n        <section className=\"profile\">\n          <div className=\"profile__grid\">\n            <img src={currentUser.avatar} alt=\"Аватар\" className=\"profile__avatar\" onClick={props.onEditAvatar} />\n            <img src={editava} alt=\"Изменить\" className=\"profile__avatar profile__avatar_edit\" />\n            <h1 className=\"profile__name\">{currentUser.name}</h1>\n            <p className=\"profile__profession\">{currentUser.about}</p>\n            <button type=\"button\" className=\"profile__button-edit\" onClick={props.onEditProfile}/>\n          </div>\n          <button type=\"button\" className=\"profile__button-add\"  onClick={props.onAddPlace}/>\n        </section>\n        <ul className=\"elements\">\n          {props.cards.map((item,i)=>{\n            return(\n            <Card\n                card={item}\n                key={item._id}\n                onCardLike={props.onCardLike}\n                onCardDelete={props.onCardDelete}\n                onCardClick={props.onCardClick}\n                />\n            )\n          })}\n        </ul>\n      </main>\n      <Footer />\n    </div>\n  )\n}\nexport default Main;\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaBAMAAABbZFH9AAAAHlBMVEUAAAD///////////////////////////////////8kfJuVAAAACXRSTlMAIN+Av5BwQO9ywzheAAAARklEQVQY02NAAEZHBiQgNEkASUpzpiKS1MyZU5ClQHIIqUkCQ1WKDSwFB5ZIUswCzEhSTIoMiQh1lciaGCJnGCDxXAuQOAAhdSPfmjsjqAAAAABJRU5ErkJggg==\"","\n// класс Api\n\nclass Api {\n  constructor() {\n    this._baseUrl  = `${window.location.protocol}${process.env.REACT_APP_API_URL || '//localhost:3001'}`;\n    this._usersMe = '/users/me';\n    this._cards = '/cards';\n    this._likes = '/cards/likes';\n    this._avatar = '/users/me/avatar';\n    this._signIn = '/signin';\n    this._signUp = '/signup';\n  }\n  //\n\n  //Отправка на сервер данных регистрации пользоваателя\n  register(email, password) {\n\n    return fetch(this._baseUrl + this._signUp, {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({email, password})\n    })\n    .then(this._checkResponse)\n  }\n\n  //Отправка на сервер данных для авторизации\n  authorize(email, password) {\n    return fetch(this._baseUrl + this._signIn, {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      \n      body: JSON.stringify({email, password})\n    })\n    .then(this._checkResponse)\n  }\n  //заполняет заголовок запроса\n  setToken(token) {\n    this._headers = {\n      ...this.headers,\n      Authorization: `Bearer ${token}`,\n    }\n  }\n\n  // запрос для проверки валидности токена\n  getContent(token) {\n    return fetch(this._baseUrl + this._usersMe, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`,\n      },\n      \n    })\n    .then(this._checkResponse)\n  }\n\n  //Загрузка карточек с сервера\n  getCards() {\n    return fetch(this._baseUrl + this._cards, {\n      method: 'GET',\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem('jwt')}`,\n        'Content-Type': \"application/json\",\n      },\n      \n    })\n    .then(this._checkResponse)\n  }\n  //Загрузка информации о пользователе с сервера\n  getUsersInfo() {\n    return fetch(this._baseUrl+this._usersMe, {\n      method: 'GET',\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem('jwt')}`,\n        'Content-Type': \"application/json\",\n      },\n      \n    })\n    .then(this._checkResponse)\n  }\n  //Редактирование профиля\n  patchUsersInfo(data) {\n    return fetch(this._baseUrl+this._usersMe, {\n      method: 'PATCH',\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem('jwt')}`,\n        'Content-Type': \"application/json\",\n      },\n      body: JSON.stringify({\n        name: data.name,\n        about: data.about\n      })\n    })\n    .then(this._checkResponse)\n  }\n\n\n  //Добавление новой карточки\n  postCard(data) {\n    return fetch(this._baseUrl + this._cards, {\n      method: 'POST',\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem('jwt')}`,\n        'Content-Type': \"application/json\",\n      },\n      body: JSON.stringify({\n        name: data.name,\n        link: data.link\n      })\n    })\n    .then(this._checkResponse)\n  }\n  //Удаление карточки\n  deleteCard(cardId) {\n    return fetch(`${this._baseUrl}${this._cards}/${cardId}`, {\n      method: 'DELETE',\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem('jwt')}`,\n        'Content-Type': \"application/json\",\n      },\n    })\n    .then(this._checkResponse)\n  }\n\n  //функция объединяет и вызывает методы обновления/снятия лайка\n  changeLikeCardStatus(cardId, isLike) {\n    const method = isLike?'PUT':'DELETE';\n    return fetch(`${this._baseUrl}/cards/${cardId}/likes`, {\n      method: method,\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem('jwt')}`,\n        'Content-Type': \"application/json\",\n      },\n    })\n    .then(this._checkResponse)\n  }\n\n\n  //Постановка лайка\n  putLike(cardId) {\n    return fetch(`${this._baseUrl}${this._likes}/${cardId}`, {\n      method: 'PUT',\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem('jwt')}`,\n        'Content-Type': \"application/json\",\n      },\n    })\n    .then(this._checkResponse)\n  }\n  //Cнятие лайка\n  deleteLike(cardId) {\n    return fetch(`${this._baseUrl}${this._likes}/${cardId}`, {\n      method: 'DELETE',\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem('jwt')}`,\n        'Content-Type': \"application/json\",\n      },\n    })\n    .then(this._checkResponse)\n  }\n  //Обновление аватара пользователя\n  patchAvatar(data) {\n    return fetch(this._baseUrl+this._avatar, {\n      method: 'PATCH',\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem('jwt')}`,\n        'Content-Type': \"application/json\",\n      },\n      body: JSON.stringify({\n        avatar: data.avatar\n        })\n    })\n    .then(this._checkResponse)\n  }\n\n  _checkResponse(res) {\n    if (res.ok) {\n        return res.json();\n    }\n    return Promise.reject(`Ошибка ${res.status}`);\n  }\n\n}\nconst api = new Api();\n\n\nexport default api;\n","function ImagePopup(props) {\n    return (\n    <div className={`popup popup_view ${props.card&&'popup_opened'}`} id=\"view\">\n    <div className=\"popup__grid\">\n      <button type=\"button\" className=\"popup__close\" onClick={props.onClose}/>\n      <div className=\"popup__form popup__form_view\">\n        <figure className=\"popup__image-conteiner\">\n          {props.card!==null?<img src={props.card.link} alt={props.card.name} className=\"popup__image\"/>:<></>}\n          <figcaption className=\"popup__caption\">{props.card!==null&&props.card.name}</figcaption>\n        </figure>\n      </div>\n    </div>\n  </div>)\n}\nexport default ImagePopup;","import { Link } from 'react-router-dom';\nfunction Form (props) {\n  return (\n    <form\n      name={props.name}\n      id = {props.name}\n      onSubmit={props.onSubmit}\n      className={props.type==='auth'?'popup__form popup__form_view': 'popup__form'}\n      noValidate >\n      <fieldset className=\"popup__fieldset\">\n        <legend className={props.type==='auth'? 'popup__title popup__title_black': 'popup__title'}>\n          {props.title}\n        </legend>\n          {props.children}\n        <button type=\"submit\" className={props.type==='auth'? 'popup__button popup__button_white': 'popup__button'}>\n          {(props.id===\"yes\")?\"Да\":props.type==='auth'?props.title:\"Сохранить\"}\n        </button>\n        {props.id===\"register\"&&<Link to=\"/sign-in\" className=\"popup__button popup__button_sing_in\">Уже зарегистрированы? Войти</Link>}\n      </fieldset>\n    </form>\n  )\n}\nexport default Form;","import Form from \"./Form\";\n\nfunction PopupWithForm(props) {\n    return(\n        <div className={props.isOpen? 'popup popup_opened': 'popup'} id={props.id}>\n        <div className=\"popup__grid\">\n          <button type=\"button\" className=\"popup__close\" onClick={props.onClose}/>\n          <Form\n            name={props.name}\n            onSubmit={props.onSubmit}\n            title={props.title}\n            children={props.children}\n            id= {props.id}\n          />\n        </div>\n      </div>\n    )\n}\nexport default PopupWithForm;\n//","import PopupWithForm from './PopupWithForm.js';\nimport {useState,useEffect, useContext} from 'react';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\n\nfunction EditProfilePopup(props) {\n    // Стейты, в которых содержатся значения инпутов name и description\n  const [name, setName] = useState('имя');\n  const [description, setDescription] = useState('инфа');\n\n  // Подписка на контекст\n  const currentUser = useContext(CurrentUserContext);\n\n// После загрузки текущего пользователя из API\n// его данные будут использованы в управляемых компонентах.\n    useEffect(() => {\n      setName(currentUser.name);\n      setDescription(currentUser.about);\n    }, [currentUser]);\n\n  // Обработчик изменения инпута обновляет стейт\nconst handleChange = (e) =>{\n    e.target.id === \"name\"? setName(e.target.value): setDescription(e.target.value);\n}\n\nconst handleSubmit = (e) =>{\n    // Запрещаем браузеру переходить по адресу формы\n    e.preventDefault();\n    // Передаём значения управляемых компонентов во внешний обработчик\n    props.onUpdateUser({\n      name: name,\n      about: description,\n    });\n  }\n\nreturn(\n<PopupWithForm id=\"edit\"\n      name = \"info\"\n      title = \"Редактировать профиль\"\n      isOpen = {props.isOpen}\n      onClose = {props.onClose}\n      onSubmit = {handleSubmit}\n      children = {\n        <>\n          <input \n            placeholder= \"Введите имя\" \n            required className=\"popup__input\" \n            name = \"popup-name\" \n            id=\"name\"  \n            minLength=\"2\" \n            maxLength=\"40\"\n            value={name || ''}\n            onChange={handleChange} \n            />\n          <span className=\"popup__error\" id=\"name-error\"/>\n          <input \n            placeholder=\"Введите информацию о деятельности\" \n            required className=\"popup__input popup__input_type_description\"\n            name = \"popup-profession\" \n            id=\"info\" \n            minLength=\"2\" \n            maxLength=\"200\"\n            value={description || ''}\n            onChange={handleChange} \n            />\n          <span className=\"popup__error\" id=\"info-error\"/></>}\n    />\n)\n}\nexport default EditProfilePopup;\n","import PopupWithForm from './PopupWithForm.js';\nimport {useRef} from 'react';\n\nfunction EditAvatarPopup(props) {\n  const avatarRef = useRef(); // записываем объект, возвращаемый хуком, в переменную\n  const handleSubmit=(e)=> {\n    e.preventDefault();\n    props.onUpdateAvatar({\n      avatar: avatarRef.current.value/* Значение инпута, полученное с помощью рефа */,\n    });\n  } \n\n  return(\n    <PopupWithForm id=\"updata\"\n        name = \"avatar\"\n        title = \"Обновить аватар\"\n        isOpen = {props.isOpen}\n        onClose = {props.onClose}\n        onSubmit = {handleSubmit}\n        children = {\n        <>\n        <input \n            placeholder=\"Ссылка для картинки\" \n            required className=\"popup__input popup__input_type_description\" \n            name = \"photo-link\" \n            id=\"link\" \n            type=\"url\"\n            ref={avatarRef}\n            // onChange={handleChange} \n        />\n        <span className=\"popup__error\" id=\"link-error\"/></>}\n    />\n  )\n}\nexport default EditAvatarPopup;","import PopupWithForm from './PopupWithForm.js';\nimport {useState} from 'react';\n\nfunction AddPlacePopup(props) {\n   // Стейты, в которых содержатся значения инпутов \n   const [name, setName] = useState('');\n   const [link, setLink] = useState('');\n\n   //Обработчик изменения инпута обновляет стейт\n   const handleChange = (e) =>{\n       e.target.id === \"picture\"? setName(e.target.value): setLink(e.target.value);\n   }\n \n  const handleSubmit = (e) =>{\n    // Запрещаем браузеру переходить по адресу формы\n    e.preventDefault();\n    // Передаём значения управляемых компонентов во внешний обработчик\n    props.onUpdateCards({\n        name: name,\n        link: link,\n    });\n    setName('');\n    setLink('');\n    }\n  return(\n    <PopupWithForm \n      id=\"add\"\n      name = \"photo\"\n      title = \"Новое место\"\n      isOpen = {props.isOpen}\n      onClose = {props.onClose}\n      onSubmit = {handleSubmit}\n      >\n        <input \n          placeholder=\"Название\" \n          required \n          className=\"popup__input\" \n          name = \"photo-name\" \n          id=\"picture\"  \n          minLength=\"1\" \n          maxLength=\"30\"\n          value={name || ''}\n          onChange={handleChange} />\n        <span className=\"popup__error\" id=\"picture-error\"/>\n        <input \n          placeholder=\"Ссылка для картинки\" \n          required \n          className=\"popup__input popup__input_type_description\" \n          name = \"photo-link\" \n          id=\"link\" \n          type=\"url\"\n          value={link || ''}\n          onChange={handleChange} />\n        <span className=\"popup__error\" id=\"link-error\"/>\n    </PopupWithForm>\n  )\n}\nexport default AddPlacePopup;","import {useState} from 'react';\nimport Header from './Header';\nimport Form from './Form.js';\n\n\nfunction Login(props) {\n\n  // Стейты, в которых содержатся значения инпутов\n  const [data, setData] = useState({\n    email: props.data.email,\n    password:''\n  });\n\n   //Обработчик изменения инпута обновляет стейт\n  const handleChange = (e) =>{\n    const {name, value} = e.target;\n    setData({\n      ...data,\n      [name]: value\n    })\n   }\n\n  const handleSubmit = (e) =>{\n    // Запрещаем браузеру переходить по адресу формы\n    e.preventDefault();\n    // Передаём значения управляемых компонентов во внешний обработчик\n    props.onLogin(data.email, data.password);\n  }\n\n\n  return(\n    <div className=\"page\">\n      <Header buttonName=\"Регистрация\" toLink=\"/sign-up\"/>\n      <div className=\"popup popup_auth popup_opened\">\n        <Form\n          type=\"auth\"\n          id=\"login\"\n          name = \"log_in\"\n          title = \"Вход\"\n          onSubmit = {handleSubmit}\n          >\n            <input placeholder=\"Email\"\n              required\n              className=\"popup__input popup__input_black\"\n              name = \"email\"\n              id=\"email\"\n              type = \"email\"\n              value={data.email|| ''}\n              onChange={handleChange}\n            />\n            <span className=\"popup__error\" id=\"email-error\"/>\n            <input\n              placeholder=\"Пароль\"\n              required\n              className=\"popup__input popup__input_black\"\n              name = \"password\"\n              id=\"password\"\n              type=\"password\"\n              value={data.password || ''}\n              onChange={handleChange} />\n            <span className=\"popup__error\" id=\"password-error\"/>\n        </Form>\n      </div>\n    </div>\n  )\n}\nexport default Login;","\nimport {useState} from 'react';\nimport Header from './Header';\nimport Form from './Form.js';\n\n\nfunction Register(props) {\n  // Стейты, в которых содержатся значения инпутов\n  const [data, setData] = useState({\n    email: '',\n    password: '',\n  });\n\n   //Обработчик изменения инпута обновляет стейт\n  const handleChange = (e) =>{\n    const {name, value} = e.target;\n    setData({\n      ...data,\n      [name]: value\n    })\n   }\n\n  const handleSubmit = (e) =>{\n  // Запрещаем браузеру переходить по адресу формы\n  e.preventDefault();\n  // Передаём значения управляемых компонентов во внешний обработчик\n  props.onRegister(data.email, data.password);\n  }\n\n  return(\n    <div className=\"page\">\n      <Header buttonName=\"Войти\" toLink=\"/sign-in\"/>\n      <div className=\"popup popup_auth popup_opened\">\n        <Form\n          type=\"auth\"\n          id=\"register\"\n          name = \"register\"\n          title = \"Регистрация\"\n          onSubmit = {handleSubmit}\n          >\n            <input\n              placeholder=\"Email\"\n              required\n              className=\"popup__input popup__input_black\"\n              name = \"email\"\n              id=\"email\"\n              type = \"email\"\n              value={data.email || ''}\n              onChange={handleChange} />\n            <span className=\"popup__error\" id=\"email-error\"/>\n            <input\n              placeholder=\"Пароль\"\n              required\n              className=\"popup__input popup__input_black\"\n              name = \"password\"\n              id=\"password\"\n              type=\"password\"\n              value={data.password || ''}\n              onChange={handleChange} />\n            <span className=\"popup__error\" id=\"password-error\"/>\n        </Form>\n      </div>\n    </div>\n  )\n}\nexport default Register;","function InfoTooltip(props) {\n  return (\n    <div className= {`popup popup_view ${props.isOpen&&'popup_opened'}`} id=\"info\">\n    <div className=\"popup__grid\">\n      <button type=\"button\" className=\"popup__close\" onClick={props.onClose}/>\n      <div className=\"popup__form\">\n        <figure className=\"popup__image-conteiner\">\n          {props.typeInfo==='fail'?<div className=\"popup__image popup__image_fail\"/>:<div className=\"popup__image popup__image_success\"/>}\n          <figcaption className=\"popup__title\">{props.typeInfo==='fail'?'Что-то пошло не так! Попробуйте еще раз.':'Вы успешно зарегистрировались!'}\n          </figcaption>\n        </figure>\n      </div>\n    </div>\n  </div>)\n}\nexport default InfoTooltip;","import React from 'react';\nimport { Route, Redirect } from \"react-router-dom\";\n\nconst ProtectedRoute = ({ component: Component, ...props  }) => {\n  return (\n    <Route>\n      {\n        () => props.loggedIn === true ? <Component {...props} /> : <Redirect to=\"./sing-in\" />\n      }\n    </Route>\n)}\n\nexport default ProtectedRoute;","import Main from './Main.js';\nimport api from '../utils/api.js';\nimport ImagePopup from './ImagePopup.js';\nimport EditProfilePopup from './EditProfilePopup.js';\nimport EditAvatarPopup from './EditAvatarPopup.js';\nimport AddPlacePopup from './AddPlacePopup.js';\nimport Login from './Login.js';\nimport Register from './Register.js';\nimport InfoTooltip from './InfoTooltip.js';\nimport {useState, useEffect} from 'react';\nimport { Route, Switch, Redirect, useHistory } from 'react-router-dom';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\nimport ProtectedRoute from './ProtectedRoute';\n\nfunction App() {\n  const [loggedIn, setLoggedIn] = useState(null);\n  const [userData,setUserData] = useState({\n    email: ''\n    });\n  const history = useHistory();\n  const[isInfoTooltipOpen, setInfoTooltipOpen] = useState(false);\n  const[typeInfo, setTypeInfo] = useState(null);\n  const[currentUser, setCurrenUser]=useState({name: '', about: '', avatar: ''});\n  const[isEditProfilePopupOpen,handleEditProfileClick] = useState(false);\n  const[isAddPlacePopupOpen,handleAddPlaceClick] = useState(false);\n  const[isEditAvatarPopupOpen,handleEditAvatarClick] = useState(false);\n  const[selectedCard,handleCardClick]=useState(null);\n  const[cards, setCards]=useState([]);\n\n  useEffect(()=>{\n    if (loggedIn) {\n      history.push('/');\n    }\n  }, [loggedIn, history])\n\n\n  useEffect(()=>{\n    const token = localStorage.getItem('jwt');\n    if (!token) {\n      return\n    }\n    api.setToken(token)\n    api\n      .getCards()\n      .then((cardsFromSer) => {\n        setCards(cardsFromSer.data);\n        \n      })\n      .catch((err) => {console.log(err);});\n    },[loggedIn,history]);\n\n  useEffect(()=>{\n    const token = localStorage.getItem('jwt');\n    if (!token) {\n      return\n    }\n    api.setToken(token)\n    api.getUsersInfo()\n    .then((userInfo) => {\n      setCurrenUser(userInfo.data);\n      })\n\n    .catch((err) => {console.log(err);});\n  },[loggedIn,userData]);\n\n  const onSignOut =() => {\n    setLoggedIn(false);\n    localStorage.removeItem('jwt');\n  }\n\n  const onLogin = (email, password) => {\n    api\n      .authorize(email, password)\n      .then((data) => {\n        if (data.token){\n          localStorage.setItem('jwt', data.token);\n          setLoggedIn(true);\n          setInfoTooltipOpen(false);\n          setUserData({email: email})\n        }\n        if (data.statusCode===400){\n          setInfoTooltipOpen(true);\n          setTypeInfo('fail');\n          \n          // throw new Error ('не передано одно из полей');\n        }\n      })\n      .catch((err) => {\n        console.log('пользователь с email не найден');\n        setInfoTooltipOpen(true);\n        setTypeInfo('fail');\n      });\n  }\n\n  const onRegister = (email, password) =>{\n    api\n      .register(email, password)\n      .then((res) => {\n        history.push('/sing-in');\n        setInfoTooltipOpen(true);\n        setTypeInfo('success');\n\n        if (res.statusCode===400){\n          setInfoTooltipOpen(true);\n          setTypeInfo('fail');\n          \n          throw new Error ('не передано одно из полей');\n        }\n      })\n      .catch((e) => {\n        setInfoTooltipOpen(true);\n        setTypeInfo('fail');\n      });\n  }\n  useEffect(()=>{\n\n      const jwt = localStorage.getItem('jwt');\n      if (jwt){\n        api\n          .getContent(jwt)\n          .then((res) => {\n\n            if (res){\n              setUserData({\n                email: res.data.email\n              })\n              setLoggedIn(true);\n            }\n          })\n          .catch ((e)=>{console.error(e)\n            setLoggedIn(false)})\n        } else {\n          setLoggedIn(false);\n        }\n\n  },[])\n\n  if (loggedIn===null) {\n    return 'Загрузка...'\n  }\n\n\n    //ставит или удаляет лайки\n  const handleCardLike=(card) =>{\n    //  проверяем, есть ли уже лайк на этой карточке\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    // Отправляем запрос в API и получаем обновлённые данные карточки\n    api\n    .changeLikeCardStatus(card._id, !isLiked)\n    .then((newCard) => {\n    // Формируем новый массив на основе имеющегося, подставляя в него новую карточку\n    const newCards = cards.map((c) => c._id === card._id ? newCard.data : c);\n      // Обновляем стейт\n      setCards(newCards);\n    })\n    .catch((err) => {console.log(err);});\n  }\n\n  //handleCardDelete удаляет карточку\n  const handleCardDelete=(card) =>{\n    // Отправляем запрос в API и получаем обновлённые данные карточки\n    api.deleteCard(card._id).then((newCard) => {\n    // Формируем новый массив на основе имеющегося, подставляя в него новую карточку\n    const newCards = cards.filter((c,i,cards) => c._id !== card._id ? newCard : false);\n      // Обновляем стейт\n      setCards(newCards);\n    })\n    .catch((err) => {console.log(err);});\n  }\n\n\n\n\n  function closeAllPopups() {\n    handleEditProfileClick(false);\n    handleAddPlaceClick(false);\n    handleEditAvatarClick(false);\n    handleCardClick(null);\n    setInfoTooltipOpen(false);\n  }\n\n  const handleUpdateUser=(data)=> {\n    api\n    .patchUsersInfo(data)\n    .then((userInfo) => {\n      setCurrenUser(userInfo.data);\n      closeAllPopups();\n      })\n    .catch((err) => {console.log(err);});\n\n  }\n\n  const handleUpdateAvatar=(data)=> {\n    api\n    .patchAvatar(data)\n    .then((userInfo) => {\n      setUserData(userInfo)\n      setCurrenUser(userInfo);\n      closeAllPopups();\n      })\n    .catch((err) => {console.log(err);});\n\n  }\n\n  const handleAddPlaceSubmit=(data)=> {\n    api\n      .postCard(data)\n      .then((newCard) => {\n        setCards([newCard.data, ...cards]);\n        history.push('/');\n        setLoggedIn(true);\n        closeAllPopups();\n      })\n    .catch((err) => {console.log(err);});\n\n  }\n\n  return (\n\n    <CurrentUserContext.Provider value={currentUser}>\n      <Switch>\n        <ProtectedRoute exact path=\"/\"\n          loggedIn={loggedIn}\n          userEmail={userData.email}\n          component={Main}\n          onSignOut={onSignOut}\n          onEditProfile={()=>{handleEditProfileClick(true)}}\n          onAddPlace={()=>{handleAddPlaceClick(true)}}\n          onEditAvatar={()=>{handleEditAvatarClick(true)}}\n          onCardClick={selectedCard=>handleCardClick(selectedCard)}\n          cards={cards}\n          onCardLike={handleCardLike}\n          onCardDelete={handleCardDelete}\n          />\n\n        <Route path=\"/sign-in\">\n          <Login  onLogin={onLogin}\n\n          data={userData}\n          />\n\n        </Route>\n\n        <Route path=\"/sign-up\">\n          <Register onRegister = {onRegister}/>\n        </Route>\n\n        <Route>\n          {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/sign-in\" />}\n        </Route>\n\n      </Switch>\n\n      <EditProfilePopup\n        isOpen={isEditProfilePopupOpen}\n        onClose={closeAllPopups}\n        onUpdateUser={handleUpdateUser}\n        />\n\n      <EditAvatarPopup\n        isOpen={isEditAvatarPopupOpen}\n        onClose={closeAllPopups}\n        onUpdateAvatar={handleUpdateAvatar}\n        />\n\n      <AddPlacePopup\n        isOpen={isAddPlacePopupOpen}\n        onClose={closeAllPopups}\n        onUpdateCards={handleAddPlaceSubmit}\n        />\n\n      <ImagePopup card={selectedCard} onClose={closeAllPopups}/>\n\n      <InfoTooltip\n        isOpen={isInfoTooltipOpen}\n        typeInfo={typeInfo}\n        onClose={closeAllPopups}\n        />\n\n\n\n    </CurrentUserContext.Provider>\n\n  );\n}\n\nexport default App;\n\n\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App.js';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}